<div class="flex h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30">
  <!-- Hamburger Menu Button (Mobile/Tablet) -->
  <button
    (click)="toggleSidebar()"
    class="fixed top-4 left-4 z-50 md:hidden bg-white rounded-lg shadow-lg p-2 hover:bg-gray-50 transition-all"
    aria-label="Toggle navigation menu">
    <svg class="w-6 h-6 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      @if (!sidebarOpen()) {
        <path d="M3 12h18M3 6h18M3 18h18"></path>
      } @else {
        <path d="M6 18L18 6M6 6l12 12"></path>
      }
    </svg>
  </button>

  <!-- Backdrop Overlay (Mobile/Tablet) -->
  @if (sidebarOpen()) {
    <div
      (click)="closeSidebar()"
      class="fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm transition-opacity"
      aria-hidden="true"></div>
  }

  <!-- Sidebar -->
  <aside
    [class.translate-x-0]="sidebarOpen()"
    class="fixed md:relative inset-y-0 left-0 z-40 w-64 bg-gradient-to-b from-brand-primary to-blue-700 flex flex-col shadow-2xl transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
    <!-- Logo Section -->
    <div class="p-6 border-b border-white/10">
      <div class="relative">
        <div class="absolute inset-0 bg-white/5 blur-xl rounded-full"></div>
        <a href="/" rel="noopener noreferrer" aria-label="Bitspire website" class="inline-block mx-auto">
          <img src="assets/bitspire-logo.webp" alt="Bitspire Logo" class="w-36 mx-auto relative drop-shadow-lg" />
        </a>
      </div>
      <p class="text-center text-white/60 text-xs mt-3 font-medium tracking-wide">.NET Tool Box</p>
    </div>

    <!-- Navigation Menu -->
    <nav class="flex-1 px-3 py-6 space-y-2 overflow-y-auto">
      <a
        routerLink="/home"
        routerLinkActive="bg-white/20 text-white font-semibold shadow-lg scale-105"
        [routerLinkActiveOptions]="{exact: false}"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-4 py-3 text-white/90 rounded-xl hover:bg-white/15 hover:scale-102 transition-all duration-200 group">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span class="flex-1">Home</span>
        <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a
        routerLink="/csharp-json"
        routerLinkActive="bg-white/20 text-white font-semibold shadow-lg scale-105"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-4 py-3 text-white/90 rounded-xl hover:bg-white/15 hover:scale-102 transition-all duration-200 group">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
        </svg>
        <span class="flex-1">JSON → C#</span>
        <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a
        routerLink="/csharp-typescript"
        routerLinkActive="bg-white/20 text-white font-semibold shadow-lg scale-105"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-4 py-3 text-white/90 rounded-xl hover:bg-white/15 hover:scale-102 transition-all duration-200 group">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        <span class="flex-1">C# ↔ TypeScript</span>
        <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a
        routerLink="/middleware-designer"
        routerLinkActive="bg-white/20 text-white font-semibold shadow-lg scale-105"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-4 py-3 text-white/90 rounded-xl hover:bg-white/15 hover:scale-102 transition-all duration-200 group">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2v6m0 4v2m0 4v4"></path>
          <circle cx="12" cy="8" r="2"></circle>
          <circle cx="12" cy="16" r="2"></circle>
          <path d="M20 12h-4m-8 0H4"></path>
        </svg>
        <span class="flex-1">Middleware Designer</span>
        <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>
    </nav>

    <!-- Footer Section -->
    <div class="p-4 border-t border-white/10">
      <div class="text-center text-white/50 text-xs space-y-1">
        <p>{{ version() }}</p>
        <p class="text-white/30">© 2025 Bitspire</p>
      </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="flex-1 overflow-y-auto">
    <router-outlet />
  </main>
</div>
